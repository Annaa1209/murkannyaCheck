<script>
    // Load saved start time from localStorage if available
    let savedTime = localStorage.getItem('startTime');
    let startTime = savedTime ? new Date(savedTime) : new Date();
    const counterEl = document.getElementById('counter');
    const resetBtn = document.getElementById('resetBtn');
    const manualDateInput = document.getElementById('manualDate');
    const setDateBtn = document.getElementById('setDateBtn');

    function updateCounter() {
        const now = new Date();
        const diffMs = now - startTime;
        if (diffMs < 0) {
            counterEl.textContent = 'Дата у майбутньому!';
            return;
        }
        const totalSeconds = Math.floor(diffMs / 1000);
        const days = Math.floor(totalSeconds / 86400);
        const hours = Math.floor((totalSeconds % 86400) / 3600);
        const seconds = totalSeconds % 60;
        counterEl.textContent = `${days} дн ${hours} год ${seconds} сек`;
    }

    setInterval(updateCounter, 1000);
    updateCounter();

    // Reset button stores new time
    resetBtn.addEventListener('click', () => {
        startTime = new Date();
        localStorage.setItem('startTime', startTime.toISOString());
        updateCounter();
    });

    // Manual date set stores new time
    setDateBtn.addEventListener('click', () => {
        const val = manualDateInput.value;
        if (!val) return alert('Оберіть дату та час');
        const chosenDate = new Date(val);
        if (isNaN(chosenDate.getTime())) {
